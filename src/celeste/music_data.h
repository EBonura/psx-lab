#pragma once
#include <stdint.h>

// Music pattern flags
#define MUSIC_LOOP_START 0x01
#define MUSIC_LOOP_END   0x02
#define MUSIC_STOP       0x04

struct P8MusicPattern {
    uint8_t flags;
    uint8_t channel_sfx[4];  // SFX index, bit 7 = disabled
    uint8_t pad[3];
};

static const P8MusicPattern music_patterns[64] = {
    {0x01, {0x15, 0x0A, 0x96, 0x84}, {0,0,0}},
    {0x00, {0x0A, 0x16, 0x0C, 0x84}, {0,0,0}},
    {0x00, {0x0A, 0x16, 0x0C, 0x84}, {0,0,0}},
    {0x00, {0x0A, 0x0B, 0x0C, 0x84}, {0,0,0}},
    {0x00, {0x14, 0x13, 0x12, 0x84}, {0,0,0}},
    {0x00, {0x0A, 0x16, 0x0C, 0x84}, {0,0,0}},
    {0x00, {0x0A, 0x16, 0x0C, 0x84}, {0,0,0}},
    {0x02, {0x0A, 0x11, 0x12, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x01, {0x18, 0x19, 0x1A, 0x84}, {0,0,0}},
    {0x00, {0x18, 0x19, 0x1A, 0x84}, {0,0,0}},
    {0x00, {0x1C, 0x1B, 0x1A, 0x84}, {0,0,0}},
    {0x00, {0x1D, 0x1B, 0x1A, 0x84}, {0,0,0}},
    {0x00, {0x1F, 0x21, 0x1A, 0x84}, {0,0,0}},
    {0x00, {0x1F, 0x1A, 0x21, 0x84}, {0,0,0}},
    {0x00, {0x1E, 0x1A, 0x22, 0x84}, {0,0,0}},
    {0x02, {0x20, 0x1A, 0x24, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x01, {0x2A, 0x27, 0x29, 0x84}, {0,0,0}},
    {0x00, {0x2A, 0x27, 0x29, 0x84}, {0,0,0}},
    {0x00, {0x2F, 0x2B, 0x29, 0x84}, {0,0,0}},
    {0x00, {0x2F, 0x2B, 0x2C, 0x84}, {0,0,0}},
    {0x00, {0x2F, 0x2B, 0x29, 0x84}, {0,0,0}},
    {0x00, {0x2F, 0x2B, 0x2C, 0x84}, {0,0,0}},
    {0x00, {0x2E, 0x2D, 0x30, 0x84}, {0,0,0}},
    {0x00, {0x34, 0x31, 0x27, 0x84}, {0,0,0}},
    {0x02, {0x35, 0x32, 0x27, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x01, {0x3D, 0xBE, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x3D, 0xBE, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x3D, 0x8A, 0x83, 0x84}, {0,0,0}},
    {0x02, {0x3D, 0x3E, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x00, {0x81, 0x82, 0x83, 0x84}, {0,0,0}},
    {0x01, {0x38, 0x3A, 0x3C, 0x84}, {0,0,0}},
    {0x02, {0x39, 0x3B, 0x3C, 0x84}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
    {0x00, {0x80, 0x80, 0x80, 0x80}, {0,0,0}},
};

#define MUSIC_PATTERN_COUNT 42
